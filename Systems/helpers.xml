<?xml version="1.0"?>

<PropertyList>
	
	<!--	Control Mapping	-->
	<filter>
		<debug>false</debug>
		<type>gain</type>
		<enable>
			<condition>
				<or>
					<equals>
						<property>/controls/ask21/throttle-to-airbrake</property>
						<value>1</value> 
					</equals>
					<equals>
						<property>/sim/model/variant</property>
						<value>0</value>
					</equals>
				</or>
			</condition>
		</enable>
		<input>
			<expression>
				<table>
					<property>/controls/engines/engine/throttle</property>
					<entry><ind>0</ind><dep>1</dep></entry>
					<entry><ind>1</ind><dep>0</dep></entry>
				</table>
			</expression>
		</input>
		<output>/controls/flight/spoilers</output>
		<max-rate-of-change>2.0</max-rate-of-change>
	</filter>
	<filter>
		<debug>false</debug>
		<type>gain</type>
		<enable>
			<condition>
				<or>
					<equals>
						<property>/controls/ask21/throttle-to-airbrake</property>
						<value>1</value> 
					</equals>
					<equals>
						<property>/sim/model/variant</property>
						<value>0</value>
					</equals>
				</or>
			</condition>
		</enable>
		<input>
			<property>/controls/engines/engine/throttle</property>
		</input>
		<output>/controls/ask21/groundhandling-throttle</output>
		<max-rate-of-change>2.0</max-rate-of-change>
	</filter>
	<filter>
		<debug>false</debug>
		<type>gain</type>
		<enable>
			<condition>
				<and>
					<equals>
						<property>/controls/ask21/mixture-to-airbrake</property>
						<value>1</value> 
					</equals>
					<equals>
						<property>/sim/model/variant</property>
						<value>1</value>
					</equals>
				</and>
			</condition>
		</enable>
		<input>
			<expression>
				<table>
					<property>/controls/engines/engine/mixture</property>
					<entry><ind>0</ind><dep>1</dep></entry>
					<entry><ind>1</ind><dep>0</dep></entry>
				</table>
			</expression>
		</input>
		<output>/controls/flight/spoilers</output>
		<max-rate-of-change>2.0</max-rate-of-change>
	</filter>
	<filter>
		<debug>false</debug>
		<type>gain</type>
		<enable>
			<condition>
				<and>
					<equals>
						<property>/controls/ask21/mixture-to-airbrake</property>
						<value>1</value> 
					</equals>
					<equals>
						<property>/sim/model/variant</property>
						<value>1</value>
					</equals>
				</and>
			</condition>
		</enable>
		<input>
			<property>/controls/engines/engine/mixture</property>
		</input>
		<output>/controls/ask21/groundhandling-throttle</output>
		<max-rate-of-change>2.0</max-rate-of-change>
	</filter>
	<filter>
		<debug>false</debug>
		<type>gain</type>
		<enable>
			<condition>
				<and>
					<equals>
						<property>/controls/ask21/throttle-to-airbrake</property>
						<value>0</value> 
					</equals>
					<equals>
						<property>/sim/model/variant</property>
						<value>1</value>
					</equals>
				</and>
			</condition>
		</enable>
		<input>
			<property>/controls/engines/engine/throttle</property>
		</input>
		<output>/controls/engines/engine/throttle-int</output>
		<max-rate-of-change>2.0</max-rate-of-change>
	</filter>
	<filter>
		<debug>false</debug>
		<type>gain</type>
		<enable>
			<condition>
				<and>
					<equals>
						<property>/controls/ask21/mixture-to-throttle</property>
						<value>1</value> 
					</equals>
					<equals>
						<property>/controls/ask21/throttle-to-airbrake</property>
						<value>1</value> 
					</equals>
					<equals>
						<property>/sim/model/variant</property>
						<value>1</value>
					</equals>
				</and>
			</condition>
		</enable>
		<input>
			<property>/controls/engines/engine/mixture</property>
		</input>
		<output>/controls/engines/engine/throttle-int</output>
		<max-rate-of-change>2.0</max-rate-of-change>
	</filter>
	
	<!--Copilot Model visibility-->
	<filter>
		<type>gain</type>
		<gain>1</gain>
		<input>
			<condition>
				<greater-than-equals>
					<property>sim/weight[1]/weight-lb</property>
					<value>80</value>
				</greater-than-equals>
			</condition>
			<value>1</value>
		</input>
		<input>
			<condition>
				<less-than>
					<property>sim/weight[1]/weight-lb</property>
					<value>0</value>
				</less-than>
			</condition>
			<value>0</value>
		</input>
		<output>sim/model/copilot-present</output>
	</filter>
	
	<!--Rope Breakage-->
  
	<filter>
		<type>gain</type>
		<gain>1</gain>
		<input>
			<condition>
				<equals>
					<property>sim/flight-model</property>
					<value>yasim</value>
				</equals>
			</condition>
			<property>position/gear-agl-m</property>	
		</input>
		<input>
			<condition>
				<equals>
					<property>sim/flight-model</property>
					<value>jsb</value>
				</equals>
			</condition>
			<expression>
				<sum>
					<property>position/altitude-agl-m</property>
					<value>1</value>
				</sum>
			</expression>			
		</input>
		<output>systems/breakage/alt_used</output>
	</filter>
	<filter>
		<type>gain</type>
		<gain>1</gain>
		<enable>
			<condition>
				<and>
					<equals>
						<property>/controls/breakage/enabled</property>
						<value>1</value>
					</equals>
					<equals>
						<property>sim/hitches/winch/open</property>
						<value>0</value>
					</equals>
					<equals>
						<property>sim/flight-model</property>
						<value>yasim</value>
					</equals>
					<greater-than-equals>
						<property>systems/breakage/alt_used</property>
						<property>controls/breakage/altitude-m</property>
					</greater-than-equals>
				</and>
			</condition>
		</enable>				
		<input>1</input>
		<output>sim/hitches/winch/open</output>
	</filter>
	<filter>
		<type>gain</type>
		<gain>1</gain>
		<enable>
			<condition>
				<and>
					<equals>
						<property>/controls/breakage/enabled</property>
						<value>1</value>
					</equals>
					<equals>
						<property>sim/glider/winch/flags/hooked</property>
						<value>1</value>
					</equals>
					<equals>
						<property>sim/flight-model</property>
						<value>jsb</value>
					</equals>
					<greater-than-equals>
						<property>systems/breakage/alt_used</property>
						<property>controls/breakage/altitude-m</property>
					</greater-than-equals>
				</and>
			</condition>
		</enable>				
		<input>1</input>
		<output>sim/hitches/winch/open</output>
	</filter>
	
	<!--Unit conversion for the drag robot dialog-->
	<filter>
		<type>gain</type>
		<gain>3.6</gain>				
		<input>sim/glider/dragger/conf/glob_min_speed_takeoff_mps</input>
		<output>sim/glider/gui/dragrobot/min_speed_takeoff</output>
	</filter>
	<filter>
		<type>gain</type>
		<gain>3.6</gain>				
		<input>sim/glider/dragger/conf/glob_max_speed_mps</input>
		<output>sim/glider/gui/dragrobot/max_speed</output>
	</filter>
	<filter>
		<type>gain</type>
		<gain>3.6</gain>				
		<input>sim/glider/dragger/conf/glob_max_speed_tauten_mps</input>
		<output>sim/glider/gui/dragrobot/max_speed_tauten</output>
	</filter>
</PropertyList>
